<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        function address() {
            new daum.Postcode({
                oncomplete: function (data) {
                    document.getElementById("zipcode").value=data.zonecode;
                    document.getElementById("addr").value = data.address;
                    document.getElementById("addrDetail").focus();
                }
            }).open();
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap" rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="/css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="/css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="/css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="/css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
<section class="checkout spad">
    <div class="container">
        <div class="checkout__form">
            <h4>회원가입</h4>
            <form action="/member/join" method="post">
                <div class="row">
                    <div class="col">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="checkout__input">
                                    <label for="name">이름</label>
                                    <br>
                                    <input type="text" name="name" id="name" th:value="${memberDTO.name}"/>
                                    <span id="div_err_name"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="checkout__input">
                                    <label for="memberId">아이디</label>
                                    <br>
                                    <input type="text" name="memberId" id="memberId" th:value="${memberDTO.memberId}"/>
                                    <span id="div_err_memberId"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="checkout__input">
                                    <label for="pwd">비밀번호</label>
                                    <br>
                                    <input type="password" name="pwd" id="pwd" th:value="${memberDTO.pwd}"/>
                                    <span id="div_err_pwd"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="checkout__input">
                                    <label for="birthday">생년월일</label>
                                    <br>
                                    <input type="date" name="birthday" id="birthday" th:value="${memberDTO.birthday}"/>
                                    <span id="div_err_birthday"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="checkout__input">
                                    <label for="email">이메일</label>
                                    <br>
                                    <input type="email" name="email" id="email" th:value="${memberDTO.email}"/>
                                    <span id="div_err_email"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="checkout__input">
                                    <label for="zipcode">우편번호</label>
                                    <br>
                                    <input type="text" name="zipcode" id="zipcode" onclick="address()" th:value="${memberDTO.zipcode}"/>
                                </div>
                            </div>
                        </div>
                        <div class="checkout__input">
                            <label for="addr">주소</label>
                            <br>
                            <input type="text" name="addr" id="addr" onclick="address()" th:value="${memberDTO.addr}"/>
                            <span id="div_err_addr"></span>
                        </div>
                        <div class="checkout__input">
                            <label for="addrDetail">상세주소</label>
                            <br>
                            <input type="text" name="addrDetail" id="addrDetail" th:value="${memberDTO.addrDetail}"/>
                            <span id="div_err_addrDetail"></span>
                        </div>
                    </div>
                </div>
                <button type="submit" class="site-btn">회원가입</button>
            </form>
        </div>
    </div>
</section>
<script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.nice-select.min.js"></script>
<script src="/js/jquery-ui.min.js"></script>
<script src="/js/jquery.slicknav.js"></script>
<script src="/js/mixitup.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/main.js"></script>
<script th:inline="javascript">
    const serverValidResult = {};
    let errors = [[${errors}]];
    errors.forEach(function(item){
        let err = document.getElementById("div_err_"+item.field)
        if(err != null) {
            err.style.color="red"
            err.innerHTML = item.defaultMessage;
    }
        serverValidResult[item.field] = item.defaultMessage;
    });
</script>
</body>
</html>